\section{Exercise D -- Open Loop Transfer Function}

\subsection{Bode-Plots}

\begin{figure}[h!]
	\begin{subfigure}[b]{0.9\textwidth}
		\centering
		\begin{tikzpicture}
			\begin{axis}[
				xmode=log,
				ymode=log,
				log basis y=10,
				yticklabel={\pgfmathparse{20*(\tick)}\pgfmathprintnumber[fixed]{\pgfmathresult}},
				height=0.45\textwidth,
				title=\textbf{Gain},
				width=\linewidth,
				grid=major,
				grid style={dashed,gray!30},
				xlabel={$\omega$},
				ylabel={$\left|G\right|$},
				x label style={at={(axis description cs:0.5,-0.075)},anchor=north},
				legend style={at={(0.02,0.98)},anchor=north west},
				x tick label style={rotate=90,anchor=east},
				legend columns=1,
				ymin=0,
				ymax=10000,
				xmin=\angflowerbound,
				xmax=\angfupperbound
				]
				\addplot+[mark=none] table[x=angfreq, y=magnitude, col sep=comma]{./../../data/go1.csv};
				\addlegendentry{$H_1$};
				\addplot+[mark=none] table[x=angfreq, y=magnitude, col sep=comma]{./../../data/go2.csv};
				\addlegendentry{$H_2$};
				\addplot+[mark=none] table[x=angfreq, y=magnitude, col sep=comma]{./../../data/go3.csv};
				\addlegendentry{$H_3$};
			\end{axis}
		\end{tikzpicture}
	\end{subfigure}

	\begin{subfigure}[b]{0.9\textwidth}
		\centering
		\begin{tikzpicture}
			\begin{axis}[
				xmode=log,
				ymode=linear,
				height=0.45\textwidth,
				title=\textbf{$H_1$ Phase},
				width=\linewidth,
				grid=major,
				grid style={dashed,gray!30},
				xlabel={$\omega$},
				ylabel={$\varphi$},
				x label style={at={(axis description cs:0.5,-0.075)},anchor=north},
				legend style={at={(0.02,0.98)},anchor=north west},
				x tick label style={rotate=90,anchor=east},
				legend columns=1,
				ymin=\phaselowerbound,
				ymax=\phaseupperbound,
				xmin=\angflowerbound,
				xmax=\angfupperbound
				]
				\addplot+[mark=none] table[x=angfreq, y=phase, col sep=comma]{./../../data/go1.csv};
				\addlegendentry{$H_1$};
				\addplot+[mark=none] table[x=angfreq, y=phase, col sep=comma]{./../../data/go2.csv};
				\addlegendentry{$H_2$};
				\addplot+[mark=none] table[x=angfreq, y=phase, col sep=comma]{./../../data/go3.csv};
				\addlegendentry{$H_3$};
			\end{axis}
		\end{tikzpicture}
	\end{subfigure}
\end{figure}
